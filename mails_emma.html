<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Messagerie - Le GYMNASE</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f4f4f4;
    }

    header {
      background: #0c4a8f;
      color: white;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 20px;
    }

    .logo {
      font-size: 18px;
      font-weight: bold;
    }

    .search-container {
      display: flex;
      align-items: center;
    }

    .search-container input {
      padding: 5px;
      border: none;
      border-radius: 4px;
    }

    .search-container button {
      background: white;
      border: none;
      padding: 5px 10px;
      cursor: pointer;
    }

    .container {
      display: flex;
    }

    aside {
      width: 250px;
      background: white;
      padding: 15px;
      box-shadow: 2px 0 5px rgba(0,0,0,0.1);
    }

    .new-message {
      width: 100%;
      background: #007bff;
      color: white;
      padding: 10px;
      border: none;
      border-radius: 4px;
      font-size: 16px;
      cursor: pointer;
      margin-bottom: 15px;
    }

    nav ul {
      list-style: none;
      padding: 0;
    }

    nav ul li {
      padding: 10px;
      cursor: pointer;
      border-radius: 4px;
    }

    nav ul li.active {
      background: #e0e0e0;
      font-weight: bold;
    }

    nav ul li:hover {
      background: #f4f4f4;
    }

    .badge {
      background: #d63384;
      color: white;
      padding: 2px 6px;
      border-radius: 12px;
      font-size: 12px;
      margin-left: 5px;
    }

    .settings {
      width: 100%;
      background: #007bff;
      color: white;
      padding: 10px;
      border: none;
      border-radius: 4px;
      font-size: 14px;
      cursor: pointer;
      margin-top: 20px;
    }

    main {
      flex: 1;
      padding: 20px;
      background: white;
    }

    h2 {
      margin: 0;
      padding-bottom: 10px;
    }

    .message-list {
      list-style: none;
      padding: 0;
    }

    .message-list li {
      display: flex;
      align-items: center;
      padding: 10px;
      border-bottom: 1px solid #ddd;
      transition: background 0.3s;
    }

    .message-list li:hover {
      background: #f9f9f9;
    }

    .message {
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    .sender {
      font-weight: bold;
    }

    .subject {
      color: #666;
      font-size: 14px;
    }

    .date {
      font-size: 12px;
      color: #888;
      margin-left: auto;
    }
    .message-list li {
      cursor: pointer;
      transition: background 0.3s;
    }

    .message-list li:hover {
      background: #e0e0e0;
    }

    #message-detail {
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    #message-detail button {
      background: #007bff;
      color: white;
      border: none;
      padding: 8px 12px;
      cursor: pointer;
      border-radius: 4px;
    }

    #message-detail button:hover {
      background: #0056b3;
    }


  </style>


</head>
<body>

<header>
  <div class="logo">LE GYMNASE</div>
  <div class="search-container">
    <input type="text" placeholder="Rechercher">
    <button>üîç</button>
  </div>
</header>

<div class="container">
  <aside>
    <button class="new-message">‚úâÔ∏è Nouveau message</button>
    <nav>
      <ul>
        <li class="active">üì• Bo√Æte de r√©ception <span class="badge">232</span></li>
        <li>üì§ Envoy√©s</li>
        <li>üìÇ Brouillons</li>
        <li>üìÅ Archiv√©s</li>
        <li>üè¢ Direction</li>
        <li>‚ûï Nouveau dossier</li>
      </ul>
    </nav>
    <button class="settings">‚öôÔ∏è Param√©trage</button>
  </aside>

  <main>
    <div id="message-list">
      <h2>üì© Bo√Æte de r√©ception</h2>
      <ul class="message-list">
        <li onclick="openMessage('message1')">
          <input type="checkbox">
          <div class="message">
            <span class="sender">Mme C√©line SCHUH</span>
            <span class="subject">Midi de l'orientation n¬∞47896</span>
            <span class="date">ven. 28/02 √† 16:54</span>
          </div>
        </li>
        <li onclick="openMessage('message2')">
          <input type="checkbox">
          <div class="message">
            <span class="sender">M. Louis AIGRI</span>
            <span class="subject">Frigo Speechiz sous Linux ‚Äì Mission critique en cours</span>
            <span class="date">ven. 28/02 √† 16:54</span>
          </div>
        </li>
        <li onclick="openMessage('message3')">
          <input type="checkbox">
          <div class="message">
            <span class="sender">Mme Yi-San MICHAUT</span>
            <span class="subject">RE: ‰Ω†Â•Ω</span>
            <span class="date">ven. 28/02 √† 14:27</span>
          </div>
        </li>
        <li onclick="openMessage('message4')">
          <input type="checkbox">
          <div class="message">
            <span class="sender">M. Olivier ELOPHE</span>
            <span class="subject">Il n'y a pas vraiment de bonnes ou de mauvaises notes‚Ä¶</span>
            <span class="date">ven. 28/02 √† 11:19</span>
          </div>
        </li>
      </ul>
    </div>
    <div id="message-detail" style="display: none;">
      <button onclick="closeMessage()">‚¨ÖÔ∏è Retour √† la bo√Æte de r√©ception</button>
      <h3 id="message-title"></h3>
      <p><em id="message-meta"></em></p>
      <p id="message-body"></p>
    </div>
  </main>
</div>
<div>
  <p>Le code </p>
  <button class="start-btn" onclick="checkAnswer()">Entrer la solution</button>
  <input type="text" id="answer" placeholder="Votre r√©ponse">
</div>
<script>
  const messages = {
    message1: {
      title: "Midi de l'orientation n¬∞47896",
      meta: "Mme C√©line SCHUH √† moi - ven. 28 f√©vrier 2025 √† 16:54",
      body: "Veuillez vous rendre sur Pearltrees (Pearl Abyss >> pearltrees)"
    },
    message2: {
      title: "Frigo Speechiz sous Linux ‚Äì Mission critique en cours",
      meta: "M. Louis AIGRI √† moi - ven. 28 f√©vrier 2025 √† 06:54",
      body: "Emma, c'est Louis. Urgence absolue. Avec Alexis, nous sommes engag√©s dans une qu√™te qui d√©passe le simple bidouillage informatique : nous voulons contr√¥ler notre frigo Speechiz mod√®le FLAG689743 via nos calculatrices TI-85 sous un MacOS enti√®rement fait maison. Un d√©fi ? Oui. Une folie ? Peut-√™tre. Une n√©cessit√© ? Sans aucun doute.\n" +
              "\n" +
              "Nous avons plong√© dans les abysses des archives num√©riques et avons r√©ussi √† mettre la main sur la documentation de la toute premi√®re TI-3. Pourquoi ? Parce qu‚Äôelle contenait un bout de code en assembleur pr√©historique qui, selon nos hypoth√®ses les plus audacieuses, pourrait servir de base √† une √©mulation compatible avec le protocole obscure de Speechiz. Seulement, il y a un probl√®me. Enfin‚Ä¶ plusieurs.\n" +
              "\n" +
              "Probl√®me n¬∞1 : La doc est partiellement en sum√©rien.\n" +
              "Probl√®me n¬∞2 : Certaines pages semblent avoir √©t√© √©crites sous l‚Äôinfluence d‚Äôune forte dose de caf√©ine et de d√©sespoir.\n" +
              "Probl√®me n¬∞3 : Le service client de Speechiz, bas√© √† Okaido (qui n‚Äôest pas au Japon mais semble √™tre une √Æle perdue o√π le WiFi a √©t√© interdit en 2003), ne maintient plus le software. Leur dernier email contenait seulement \"¬Ø\\(„ÉÑ)/¬Ø\". Nous avons pris cela comme un d√©fi personnel.\n" +
              "\n" +
              "Face √† cette impasse bureaucratique et technologique, nous avons pris une d√©cision radicale : nous avons command√© un kit de LEDs infrarouges et un mini-scanner de fr√©quence quantique. TECHNIQUEMENT, avec les bons r√©glages et un peu de magie noire, nous devrions pouvoir intercepter les signaux √©mis par la carte m√®re du frigo et les r√©interpr√©ter sous un format compr√©hensible par notre MacOS bricol√©. √Ä noter que notre OS maison est encore instable et que le terminal plante quand on tape \"ls\", mais on garde espoir.\n" +
              "\n" +
              "On ne dort plus, on code √† la lumi√®re des LED IR, on teste, on casse tout, on recommence. Nous ne dormirons pas tant que ce frigo ne tournera pas sous Linux. C‚Äôest une question de principe. De dignit√©. De justice informatique.\n" +
              "\n" +
              "Tu peux demander √† ton prof de NSI s'il a une id√©e ? Genre‚Ä¶ une m√©thode pour bypasser le firmware Speechiz ou un moyen d‚Äô√©muler une architecture ARM-Quantum-Probabiliste sur une TI-85 overclock√©e √† 12 MHz ? Tout conseil est bon √† prendre.\n" +
              "\n" +
              "PS : Si on r√©ussit, on tente le grille-pain ensuite."
    },
    message3: {
      title: "RE: ",
      meta: "M. Yi-San Michaut √† moi - ven. 28 f√©vrier 2025 √† 16:54",
      body: "C'est une histoire de fou !\n" +
              "\n" +
              "Cl√©mence qui pirate l'ordinateur de son prof de CAV juste pour obtenir la version premium de Wall-E, Simon qui passe tout un week-end coinc√© dans un ascenseur sans autre compagnie que son propre d√©sespoir‚Ä¶ Et moi, moi, j‚Äôai d√ª ex√©cuter une prise de flamenco sur un √©l√®ve qui, s√ªr de lui, est venu me lancer : \"‰Ω†ÁÆóÂì™Ê†πËë±Ôºü\".\n" +
              "\n" +
              "Le plus beau ? C‚Äôest qu‚Äôun professeur lui avait conseill√© de me dire √ßa ! Il est arriv√©, triomphant, croquant dans un cornichon, et a prononc√©, plein d‚Äôassurance : \"ËÄÅÂ∏à‰Ω†ÁÆóÂì™Ê†πËë±Ôºü\". √Ä l‚Äôheure qu‚Äôil est, il doit √† peine sortir de l‚Äôh√¥pital. Certains diront que c‚Äôest excessif, mais l‚Äôhonneur et le flamenco ne tol√®rent pas l‚Äôirrespect.\n" +
              "\n" +
              "Mais toi‚Ä¶ ton enqu√™te te m√®ne sur un chemin encore plus dangereux. Je ne sais m√™me pas comment je pourrais te transmettre un message cod√© sans risquer de compromettre la mission. Alors j‚Äôai fait ce que toute personne cens√©e aurait fait dans cette situation :\n" +
              "\n" +
              "J‚Äôai demand√© l‚Äôaide de Mathieu Alderson en personne.\n" +
              "\n" +
              'Il a pris un long moment de r√©flexion, a fix√© l\‚Äôhorizon d‚Äôun air grave, puis il a simplement dit :  <img src=\"images/hanyu.png\" alt=\"Illustration\" width=\"600\">'
    },
    message4: {
      title: "Il n'y a pas vraiment de bonnes ou de mauvaises notes‚Ä¶",
      meta: "M. Olivier Elophe √† moi - ven. 28 f√©vrier 2025 √† 02:54",
      body: "Tout d√©pend du point de vue, du contexte et, surtout, du degr√© de pr√©paration ‚Äì ou plut√¥t d'improvisation ‚Äì de l'√©l√®ve face √† cette √©valuation surprise. Car qu'est-ce qu'une note, apr√®s tout ? Un chiffre inscrit √† l'encre ind√©l√©bile sur une copie tremp√©e d'angoisse ? Un verdict impitoyable, un instant fig√© o√π le destin acad√©mique bascule entre \"brillant\" et \"peut mieux faire\" ? Ou bien est-ce simplement une repr√©sentation arbitraire d'un savoir √©ph√©m√®re, une illusion chiffr√©e d‚Äôune ma√Ætrise plus ou moins convaincante d‚Äôun sujet tomb√© du ciel comme un coup du sort ?\n" +
              "\n" +
              "Certains diront qu‚Äôune mauvaise note est une injustice, le fruit cruel d‚Äôune √©valuation impromptue qui ne refl√®te en rien le g√©nie latent de l‚Äô√©l√®ve, si seulement on lui avait laiss√© le temps de briller. D'autres, plus fatalistes, consid√®reront qu‚Äôelle est le reflet froid et objectif de leur ignorance momentan√©e ‚Äì car oui, la m√©moire d‚Äôun √©tudiant est un organisme vivant, capricieux, qui d√©cide parfois de faire gr√®ve au moment le plus inopportun.\n" +
              "\n" +
              "Mais alors, qu‚Äôest-ce qu‚Äôune bonne note ? Est-ce une reconnaissance de l‚Äôeffort et du travail r√©gulier, le triomphe de l‚Äôorganisation sur le chaos ? Ou est-ce le doux fruit d‚Äôune chance inou√Øe, d‚Äôun sujet tomb√© pile sur le seul chapitre survol√© √† la va-vite entre deux parties de jeux vid√©o et une crise existentielle devant la page blanche ? Et si la v√©ritable justice acad√©mique n‚Äô√©tait pas tant dans la note elle-m√™me que dans la satisfaction intime d‚Äôavoir √©vit√© le pire ?\n" +
              "\n" +
              "Car au fond, une √©valuation surprise n‚Äôest-elle pas l‚Äôultime m√©taphore de la vie ? Nous avan√ßons sans savoir quand tombera l'examen, nous tr√©buchons sur des questions inattendues, nous essayons de r√©pondre avec plus ou moins d‚Äô√©l√©gance, esp√©rant que la correction sera cl√©mente et que le professeur, dans son infinie sagesse, saura d√©celer la lumi√®re dans notre prose h√©sitante. Et √† la fin, nous recevons une note, injuste ou m√©rit√©e, mais qui, quoi qu'il arrive, ne d√©finira jamais enti√®rement ce que nous valons vraiment.\n" +
              "\n" +
              "Alors, faut-il redouter une √©valuation surprise ? Pas vraiment. Apr√®s tout, dans la grande partition du savoir, certaines notes sonnent juste, d‚Äôautres un peu moins, mais c‚Äôest la m√©lodie d‚Äôensemble qui compte‚Ä¶ Et un z√©ro point√©, √ßa reste quand m√™me une note, non ?"
    }
  };

  function openMessage(messageId) {
    document.getElementById("message-list").style.display = "none";
    document.getElementById("message-detail").style.display = "block";

    document.getElementById("message-title").innerHTML = messages[messageId].title;
    document.getElementById("message-meta").innerHTML = messages[messageId].meta;
    document.getElementById("message-body").innerHTML = messages[messageId].body;
  }

  function closeMessage() {
    document.getElementById("message-list").style.display = "block";
    document.getElementById("message-detail").style.display = "none";
  }
  function checkAnswer() {
    let password = document.getElementById('answer').value.trim();

    fetch("verify.php", {
      method: "POST",
      headers: { "Content-Type": "application/x-www-form-urlencoded" },
      body: "password=" + encodeURIComponent(password)
    })
            .then(response => response.json())
            .then(data => {
              if (data.status === "success") {
                alert("Connexion r√©ussie !");
                window.location.href = data.redirect;
              } else {
                alert(data.message);
              }
            });
  }

</script>
</body>
</html>
